<!-- <li><small>OPENFORM en Data-card -> {{openForm}}</small></li>
<li><small>showCard en Data-card -> {{showCard}}</small></li>
<li><small>showForm en Data-card -> {{showForm}}</small></li> -->


<div class="row p-0 m-0">
    <div class="col-md-6" style="display: inline-table; border: 1px solid;">
        <div class="px-2 my-3 row justify-content-center">
            <!-- <div class="col"> -->
            <a class="header" [id]="card.name">
                <!-- Si es administrador, se le quita la animaciÃ³n para ser mas simple -->
                <div [ngClass]="{'no-flip-box container-card': esAdmin, 'flip-box container-card':!esAdmin}">
                    <!-- class="flip-box-inner" -->
                    <div [ngClass]="{'no-flip-box-inner container-admin': esAdmin, 'flip-box-inner':!esAdmin}">
                        <div class="flip-box-front d-flex justify-content-center align-items-center">

                            <span class="font-weight-bold">
                                {{card.name}}

                            </span>
                            <!-- <div *ngIf="esAdmin" class="col">
                                <button class="btn btn-outline-success btn-sm m-0" (click)="toggleContenedor(card.name)"
                                    ngClass="faConfirm fa-ico">
                                    <fa-icon [icon]="faPen">
                                    </fa-icon><span class="m-1">Datos</span>
                                </button>
                            </div> -->

                        </div>

                        <ng-container *ngIf="!esAdmin" class="row">
                            <div class="flip-box-back" (click)="mostrarContenido(card);">
                                <span class="font-weight-bold align-self-center pt-2">
                                    <h5 *ngIf="card.resume.length > 0 else sinresume">
                                        <small>{{card.resume}}</small>
                                    </h5>
                                    <ng-template #sinresume>
                                        <h5><small>{{card.name}}</small></h5>
                                    </ng-template>
                                    <!-- not showform -->
                                    <h6 class="font-weight-normal pt-1 text-primary">Ver mas</h6>
                                </span> <!-- Fin not showform -->

                            </div>
                        </ng-container>


                        <ng-container *ngIf="esAdmin">

                            <div class="flip-box-back">
                                <ng-container *ngIf="!showForm || (card.id != targetId)">
                                    <span class="font-weight-bold align-self-center pt-2">

                                        <h5 *ngIf="card.resume.length > 0 else sinresume">
                                            <small>{{card.resume}}</small>
                                        </h5>
                                        <ng-template #sinresume>
                                            <h5><small>{{card.name}}</small></h5>
                                        </ng-template>

                                        <label class="btn btn-outline-success btn-sm mt-1 py-0 px-1" *ngIf="openForm == 0"
                                            (click)="modificarResumen(card)">
                                            <fa-icon [icon]="faPen"></fa-icon><span class="px-2"><small>Breve
                                                    {{card.name}}</small></span>
                                        </label>
                                    </span> <!-- Fin not showform -->
                                
                                </ng-container>

                                <app-card-data-form *ngIf="showForm && card.id == targetId"
                                    [item]="card"
                                    [(showForm)]="showForm" 
                                    (showFormChange)="showForm"
                                    (onUpdate)= onUpdate($event)
                                    >

                                </app-card-data-form>


                            </div>

                        </ng-container>

                    </div>
                </div>
            </a>


            <!-- QUEDA BIEN, PERO NO ME CONVENCE USARLO AQUI -->
            <div *ngIf="esAdmin" class="row m-2 align-items-center" (click)="modificarContenido(card)">
                
                <button *ngIf="openForm > 0" [disabled]="true"
                class="btn btn-primary btn-sm faConfirm fa-ico">
                    <fa-icon [icon]="faPen"></fa-icon><span class="p-2">Contenido y detalles</span>
                </button>
                <button *ngIf="openForm == 0" [disabled]="false"
                    class="btn btn-primary btn-sm faConfirm fa-ico">
                        <fa-icon [icon]="faPen"></fa-icon><span class="p-2">Contenido y detalles</span>
                    </button>
            </div>
            <!-- FIN QUEDA BIEN -->


        </div> <!-- Fin bucle de cards -->
    </div>